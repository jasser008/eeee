<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Person Card ‚Üí Message & Translation</title>
  <style>
    :root{
      --bg:#f3f4f6; --card:#ffffff; --accent:#4f46e5;
      --muted:#6b7280;
    }
    body{
      font-family: Inter, system-ui, Arial; background:var(--bg);
      margin:0; min-height:100vh; display:flex; align-items:center;
      justify-content:center; padding:24px;
    }
    .card{
      width:360px; background:var(--card); border-radius:16px;
      box-shadow:0 8px 30px rgba(17,24,39,0.08); overflow:hidden;
      transition:transform .18s ease;
    }
    .card:hover{ transform:translateY(-6px); }
    .header{
      padding:20px; display:flex; gap:16px; align-items:center;
    }
    .avatar{
      width:72px; height:72px; border-radius:14px;
      background:linear-gradient(135deg,#a78bfa,#60a5fa);
      display:flex; align-items:center; justify-content:center;
      color:white; font-weight:700; font-size:22px;
    }
    .meta h3{ margin:0; font-size:18px; }
    .meta p{ margin:4px 0 0; color:var(--muted); font-size:13px; }
    .content{ padding:0 20px 20px 20px; }
    .btn-row{ display:flex; gap:10px; margin-top:14px; }
    button.btn{
      flex:1; padding:10px 12px; border-radius:10px; font-weight:600;
      border:0; cursor:pointer; background:var(--accent); color:white;
      box-shadow:0 6px 18px rgba(79,70,229,0.18);
    }
    button.secondary{
      background:transparent; color:var(--accent); border:1px solid rgba(79,70,229,0.12);
      box-shadow:none; font-weight:600;
    }

    /* message panel */
    .message{
      margin-top:16px; padding:14px; border-radius:12px; background:#f8fafc;
      min-height:64px; display:flex; align-items:center; justify-content:center;
      text-align:center; color:#0f172a; font-size:15px;
      transform-origin:top center;
      transition:opacity .24s ease, transform .24s ease, height .24s ease;
      opacity:0; transform:scaleY(.95); height:0; overflow:hidden;
    }
    .message.visible{ opacity:1; transform:scaleY(1); height:auto; padding:14px; }

    .controls{
      display:flex; gap:8px; align-items:center; justify-content:center; margin-top:12px;
      color:var(--muted); font-size:13px;
    }
    .toggle{
      display:inline-flex; align-items:center; gap:8px;
    }
    .dot{
      width:36px; height:20px; background:#02030c; border-radius:999px; position:relative;
      padding:2px; cursor:pointer;
    }
    .knob{
      width:16px; height:16px; border-radius:50%; background:white; position:absolute; top:2px; left:2px;
      box-shadow:0 2px 6px rgba(2,6,23,0.12); transition:left .18s ease, background .18s ease;
    }
    .dot.on{ background:linear-gradient(90deg,#7c3aed,#06b6d4); }
    .dot.on .knob{ left:18px; }
    /* small helper */
    .hint{ font-size:12px; color:var(--muted); margin-top:8px; text-align:center; }
  </style>
</head>
<body>

  <div class="card" role="region" aria-label="Person card">
    <div class="header">
      <div class="avatar" aria-hidden="true">JR</div>
      <div class="meta">
        <h3>Jasser</h3>
        <p>‚ù§‚ù§</p>
      </div>
    </div>

    <div class="content">
      <p style="color:var(--muted); margin:0;">
        Click the button to change the language.
      </p>

      <div class="btn-row">
        <button id="showBtn" class="btn" aria-pressed="false">Show message</button>
        <button id="copyBtn" class="secondary" title="Copy message">Copy</button>
      </div>

      <div class="message" id="messagePanel" aria-live="polite" aria-hidden="true">
        <!-- message text inserted by JS -->
      </div>

      <div class="controls">
        <div class="toggle" role="switch" aria-checked="false" id="translateToggle">
          <div class="dot" id="dot"><div class="knob"></div></div>
        </div>
        <div id="langLabel">English</div>
      </div>

      <div class="hint"> (English ‚Üî Arabic).</div>
    </div>
  </div>

<script>
  // messages (replace with whatever you want)
  const messages = {
    en: "Hello, did you like it? üòÄ",
    ar: "ÿ£ŸáŸÑÿß ŸáŸÑ ÿ£ÿπÿ¨ÿ®ŸÉ ? üòÄ"
  };

  // translation toggle element
  const dot = document.getElementById('dot');
  const langLabel = document.getElementById('langLabel');
  const translateToggle = document.getElementById('translateToggle');

  let lang = 'en'; // current language (en|ar)
  let visible = false;

  const showBtn = document.getElementById('showBtn');
  const messagePanel = document.getElementById('messagePanel');
  const copyBtn = document.getElementById('copyBtn');

  function renderMessage(){
    // set direction for Arabic
    messagePanel.style.direction = (lang === 'ar') ? 'rtl' : 'ltr';
    messagePanel.innerText = messages[lang];
  }

  function setToggleUI(){
    if(lang === 'ar'){
      dot.classList.add('on');
      translateToggle.setAttribute('aria-checked','true');
      langLabel.innerText = 'Arabic';
    } else {
      dot.classList.remove('on');
      translateToggle.setAttribute('aria-checked','false');
      langLabel.innerText = 'English';
    }
  }

  // show/hide message with animation class
  function toggleMessage(){
    visible = !visible;
    if(visible){
      renderMessage();
      messagePanel.classList.add('visible');
      messagePanel.setAttribute('aria-hidden','false');
      showBtn.innerText = 'Hide message';
      showBtn.setAttribute('aria-pressed','true');
    } else {
      messagePanel.classList.remove('visible');
      messagePanel.setAttribute('aria-hidden','true');
      showBtn.innerText = 'Show message';
      showBtn.setAttribute('aria-pressed','false');
    }
  }

  // event listeners
  showBtn.addEventListener('click', toggleMessage);

  translateToggle.addEventListener('click', ()=>{
    lang = (lang === 'en') ? 'ar' : 'en';
    setToggleUI();
    // if message is visible, update text with a small transition
    if(visible){
      messagePanel.style.opacity = '0';
      setTimeout(()=>{
        renderMessage();
        messagePanel.style.opacity = '1';
      },150);
    }
  });

  // copy to clipboard
  copyBtn.addEventListener('click', async ()=>{
    try{
      // ensure message is rendered before copy
      if(!visible){
        toggleMessage();
        await new Promise(r=>setTimeout(r,220)); // allow animation to open
      }
      await navigator.clipboard.writeText(messages[lang]);
      copyBtn.innerText = 'Copied ‚úì';
      setTimeout(()=> copyBtn.innerText = 'Copy', 1500);
    } catch(e){
      copyBtn.innerText = 'Copy (fail)';
      setTimeout(()=> copyBtn.innerText = 'Copy', 1500);
    }
  });

  // initial UI
  setToggleUI();
  renderMessage();
</script>
</body>
</html>
